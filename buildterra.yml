version: 0.2

phases:
  install:
    commands:
      - echo Installing Terraform...
      - curl -o terraform.zip https://releases.hashicorp.com/terraform/1.8.5/terraform_1.8.5_linux_amd64.zip
      - unzip terraform.zip
      - mv terraform /usr/local/bin/    

  build:
    commands:
      - echo Build completed on `date`


      #####   terraform deploy starts  #####

      - cd ${CODEBUILD_SRC_DIR}/Infrastructure/Tata_AIG
      - terraform init    
      - terraform plan
      #- terraform apply -auto-approve


      #####   terraform deploy ends   #####


    
